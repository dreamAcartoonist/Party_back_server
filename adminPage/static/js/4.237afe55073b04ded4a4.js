webpackJsonp([4],{"3VBj":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("Dd8w"),s=t.n(o),l={name:"update",data:function(){return{formData:{userName:"",idCard:"",pwd:"",avatar:"",phone:"",sex:"",joinTime:"",status:""},token:"",options:[{value:"1",label:"共产党员"},{value:"2",label:"预备党员"},{value:"3",label:"积极分子"}]}},methods:{getToken:function(){var a=this;this.$axios.qiniuGet().then(function(e){a.token=e.data})},upload:function(a){this.formData.avatar=a.url},submit:function(){var a=this,e=s()({},this.formData);this.$axios.post("addUsers",e).then(function(e){200==e.code?(a.$message({message:""+e.msg,type:"success"}),setTimeout(function(){a.$router.push("/users")},1500)):a.$message({message:""+e.msg,type:"warning"})})}},created:function(){this.getToken()}},r={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"updateUsers"},[t("el-form",{attrs:{model:a.formData,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{model:{value:a.formData.userName,callback:function(e){a.$set(a.formData,"userName",e)},expression:"formData.userName"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"身份证"}},[t("el-input",{model:{value:a.formData.idCard,callback:function(e){a.$set(a.formData,"idCard",e)},expression:"formData.idCard"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{model:{value:a.formData.pwd,callback:function(e){a.$set(a.formData,"pwd",e)},expression:"formData.pwd"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"手机号"}},[t("el-input",{model:{value:a.formData.phone,callback:function(e){a.$set(a.formData,"phone",e)},expression:"formData.phone"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"性别"}},[t("el-radio",{attrs:{label:"1"},model:{value:a.formData.sex,callback:function(e){a.$set(a.formData,"sex",e)},expression:"formData.sex"}},[a._v("男")]),a._v(" "),t("el-radio",{attrs:{label:"0"},model:{value:a.formData.sex,callback:function(e){a.$set(a.formData,"sex",e)},expression:"formData.sex"}},[a._v("女")])],1),a._v(" "),t("el-form-item",{attrs:{label:"入党时间"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:a.formData.joinTime,callback:function(e){a.$set(a.formData,"joinTime",e)},expression:"formData.joinTime"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"政治面貌"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:a.formData.status,callback:function(e){a.$set(a.formData,"status",e)},expression:"formData.status"}},a._l(a.options,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1),a._v(" "),t("el-form-item",{attrs:{label:"图片"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://upload-z1.qiniup.com","show-file-list":!1,"on-success":a.upload,data:{token:a.token}}},[a.formData.avatar?t("img",{staticClass:"avatar",attrs:{src:a.formData.avatar}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",round:""},on:{click:a.submit}},[a._v("保存")])],1)],1)],1)},staticRenderFns:[]};var n=t("VU/8")(l,r,!1,function(a){t("sSvL")},null,null);e.default=n.exports},sSvL:function(a,e){}});
//# sourceMappingURL=4.237afe55073b04ded4a4.js.map